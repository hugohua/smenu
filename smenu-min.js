/*! smenu 2014-01-23 */
!function(){var a;a=function(){function a(a,b){this.settings=$.extend({},$.fn.sMenu.defaults,b),this.$el=$(a),this.$btn=$(this.settings.trigger),this.$mask=$(this.settings.mask),this.$cnt=$(this.settings.content),this.$bar=$(this.settings.bar),this.init()}return a.prototype={init:function(){var a=this;this.$btn.on("tap.sMenu",function(b){a.isOpen()?a.close():a.open(),b.preventDefault()})},isOpen:function(){return this.$el.hasClass("on")},open:function(){this.$el.trigger("beforopen:sMenu"),this.$mask.add(this.$cnt).add(this.$el).add(this.$bar).addClass(this.settings.openCss),this._openAniEnd()},_openAniEnd:function(){var a=this;this.$cnt.one("webkitAnimationEnd",function(){a.$cnt.add(a.$bar).removeClass(a.settings.openCss).addClass(a.settings.openCss+"_done"),a.$mask.on("touchstart.sMenu touchmove.sMenu",function(a){a.preventDefault()}).on("touchend.sMenu touchcancal.sMenu",function(){a.close()}),a.$el.trigger("open:sMenu")})},close:function(){this.$el.trigger("beforeclose:sMenu"),this.$cnt.add(this.$bar).addClass(this.settings.closeCss),this._closeAniEnd()},_closeAniEnd:function(){var a=this;a.$cnt.one("webkitAnimationEnd",function(){a.$el.removeClass("show"),a.$cnt.add(a.$bar).removeClass(a.settings.closeCss).removeClass(a.settings.openCss+"_done"),a.$el.removeClass(a.settings.openCss),a.$mask.off("touchmove.sMenu touchmove.sMenu touchend.sMenu touchcancal.sMenu"),a.$el.trigger("close:sMenu")})},reset:function(){}},a}(),$.fn.sMenu=function(b){return this.each(function(){var c=$(this),d=$.fn.sMenu.lookup[c.data("smenu")];d||($.fn.sMenu.lookup[++$.fn.sMenu.lookup.i]=new a(this,b),c.data("smenu",$.fn.sMenu.lookup.i),d=$.fn.sMenu.lookup[c.data("smenu")]),"string"==typeof b&&(console.info(d),d[b]())})},$.fn.sMenu.lookup={i:0},$.fn.sMenu.defaults={openCss:"on",closeCss:"off",trigger:"#J_smenu_btn",mask:"#J_smenu_mask",content:"#J_smenu_main",bar:"#J_smenu_bar"}}();